<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <template id="template_application_family_parents_card">
        <div t-att-class="not parent or 'mt-4'">
            <section t-attf-class="card #{not parent and 'd-none'}"
                     t-att-id="parent or 'template_application_family_parents_card'">

                <t t-if="parent">
                    <input class="form-control" type="hidden"
                           data-adm-field="id"
                           t-att-value="parent.id"
                           data-adm-field-type="INTEGER"/>

                    <input class="form-control" type="hidden"
                           data-adm-field="family_id"
                           t-att-value="parent.family_id.id"
                           data-adm-field-type="INTEGER"/>
                </t>
                <t t-else="">
                    <input class="form-control" type="hidden"
                           data-adm-field="family_id"
                           t-att-value="application_id.current_user_access_id.family_id.id"
                           data-adm-field-type="INTEGER"/>
                </t>
                <div class="card-header position-relative">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block" type="button" data-toggle="collapse"
                                t-attf-data-target="#parentCollapse_#{parent and parent.id}">
                            <!--Full name-->
                            <t t-if="parent">
                                <t t-esc="parent.partner_relation_id.name"/>
                            </t>
                            <t t-else="">
                                New parent
                            </t>
                        </button>
                    </h2>
                    <button type="button" class="btn btn-danger remove-relationship position-absolute"
                            style="top: 1em; right: 1em;">&#10006;</button>
                </div>
                <div class="collapse" t-attf-id="parentCollapse_#{parent and parent.id}">
                    <div class="card-body">
                        <article class="row">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-8 offset-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4">
                                        <div class="text-center" data-adm-field="partner_relation_id"
                                             data-adm-field-type="MANY2ONE">

                                            <t t-if="parent and parent.partner_relation_id">
                                                <input class="form-control" type="hidden"
                                                       data-adm-field="id"
                                                       t-att-value="parent.partner_relation_id.id"
                                                       data-adm-field-type="INTEGER"/>
                                            </t>

                                            <img t-attf-src="data:image/*;base64,{{parent and parent.partner_relation_id.image_1920}}"
                                                 widget="image"
                                                 onerror="this.src = '/adm/static/img/contact_photo_placeholder.png';"
                                                 class="avatar rounded-circle" alt="avatar" width="175"/>
                                            <h6 class="mt-2 textUpload">Upload a different photo...</h6>
                                            <input type="file"
                                                   data-adm-field="image_1920"
                                                   class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <fieldset class="col-12 border">
                                        <legend class="w-auto">Demographics</legend>
                                        <section class="row" data-adm-field="partner_relation_id" data-adm-field-type="MANY2ONE">
                                            <div class="col-12 col-md-4 form-group">
                                                <label>Last name <span class="text-danger"
                                                                       t-if="is_required('parent_relationship_ids.last_name')">
                                                    *</span></label>
                                                <input class="form-control" type="text"
                                                       t-att-required="is_required('parent_relationship_ids.partner_relation_id.last_name')"
                                                       t-att-value="parent and parent.partner_relation_id.last_name"
                                                       data-adm-field="last_name" name="last_name"/>
                                            </div>
                                            <div class="col-12 col-md-4 form-group">
                                                <label>Middle name
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.partner_relation_id.middle_name')">
                                                        *</span>
                                                </label>
                                                <input class="form-control" type="text"
                                                       data-adm-field="middle_name"
                                                       t-att-required="is_required('parent_relationship_ids.partner_relation_id.middle_name')"
                                                       t-att-value="parent and parent.partner_relation_id.middle_name"
                                                       name="first_name"/>
                                            </div>
                                            <div class="col-12 col-md-4 form-group">
                                                <label>First name <span class="text-danger"
                                                                        t-if="is_required('parent_relationship_ids.partner_relation_id.first_name')">
                                                    *</span></label>
                                                <input class="form-control" type="text"
                                                       data-adm-field="first_name"
                                                       t-att-required="is_required('parent_relationship_ids.partner_relation_id.first_name')"
                                                       t-att-value="parent and parent.partner_relation_id.first_name"
                                                       name="first_name"/>
                                            </div>
                                            <div class="col-12 col-md-6 form-group">
                                                <label>Date of birth <span class="text-danger"
                                                                           t-if="is_required('parent_relationship_ids.date_of_birth')">
                                                    *</span></label>
                                                <input class="form-control" type="date"
                                                       t-att-required="is_required('parent_relationship_ids.date_of_birth')"
                                                       t-att-value="parent and parent.partner_relation_id.date_of_birth"
                                                       data-adm-field="date_of_birth" name="date_of_birth"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Gender <span class="text-danger"
                                                                 t-if="is_required('parent_relationship_ids.partner_relation_id.gender')">
                                                    *</span>
                                                </label>

                                                <select class="form-control" name="gender"
                                                        t-att-required="is_required('parent_relationship_ids.partner_relation_id.gender')"
                                                        data-adm-field="gender" data-adm-field-type="INTEGER">
                                                    <option disabled="disabled" selected="selected">- Select a gender
                                                        -</option>
                                                    <t t-foreach="gender_ids" t-as="gender_id">
                                                        <option t-att-selected="parent and parent.partner_relation_id.gender == gender_id"
                                                                t-att-value="gender_id.id">
                                                            <t t-esc="gender_id.name"/>
                                                        </option>
                                                    </t>
                                                </select>
                                            </div>
                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Marital status
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.partner_relation_id.marital_status_id')">
                                                        *</span>
                                                </label>
                                                <select name="marital_status_id" class="form-control"
                                                        t-att-required="is_required('parent_relationship_ids.partner_relation_id.marital_status_id')"
                                                        data-adm-field="marital_status_id">
                                                    <option selected="selected" disabled="disabled">
                                                        -Select a status-
                                                    </option>
                                                    <t t-foreach="SUPER_ENV['school_base.marital_status'].search([])"
                                                       t-as="marital_status_id">
                                                        <option t-att-selected="parent.partner_relation_id.marital_status_id == marital_status_id"
                                                                t-att-value="marital_status_id.id">
                                                            <t t-esc="marital_status_id.name"/>
                                                        </option>
                                                    </t>
                                                </select>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Email Address
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.parent_2.email')">
                                                        *</span>
                                                </label>
                                                <input class="form-control" type="email"
                                                       t-att-required="is_required('parent_relationship_ids.parent_2.email')"
                                                       t-att-value="parent and parent.partner_relation_id.email"
                                                       data-adm-field="email" name="email"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Work Phone
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.parent_2.phone')">
                                                        *</span>
                                                </label>
                                                <input class="form-control" type="tel"
                                                       t-att-required="is_required('parent_relationship_ids.parent_2.phone')"
                                                       t-att-value="parent and parent.partner_relation_id.phone"
                                                       data-adm-field="phone" name="phone"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Mobile
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.parent_2.mobile')">
                                                        *</span>
                                                </label>
                                                <input class="form-control" type="tel"
                                                       t-att-required="is_required('parent_relationship_ids.parent_2.mobile')"
                                                       t-att-value="parent and parent.partner_relation_id.mobile"
                                                       data-adm-field="mobile" name="mobile"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Job Position
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.parent_2.function')">
                                                        *</span>
                                                </label>
                                                <input class="form-control" type="text"
                                                       t-att-required="is_required('parent_relationship_ids.parent_2.function')"
                                                       t-att-value="parent and parent.partner_relation_id.function"
                                                       data-adm-field="function" name="function"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Job Category
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.parent_2.employer')">
                                                        *</span>
                                                </label>
                                                <input class="form-control" type="text" disabled="disabled"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>
                                                    Employer
                                                    <span class="text-danger"
                                                          t-if="is_required('parent_relationship_ids.parent_2.employer')">
                                                        *</span>
                                                </label>
                                                <input class="form-control" type="text"
                                                       t-att-required="is_required('parent_relationship_ids.parent_2.employer')"
                                                       t-att-value="parent and parent.partner_relation_id.employer"
                                                       data-adm-field="employer" name="employer"/>
                                            </div>
                                        </section>
                                    </fieldset>
                                    <fieldset class="col-12 border">
                                        <legend class="w-auto">Relationship to application</legend>
                                        <section class="row">
                                            <div class="col-12 col-md-6 form-group">
                                                <label>Relationship to applicant
                                                    <span class="text-danger">*</span></label>
                                                <select class="form-control" data-adm-field="relationship_type_id"
                                                        data-adm-field-type="INTEGER">
                                                    <option value="-1" selected="selected" disabled="disabled">
                                                        -Select a relation type-
                                                    </option>
                                                    <t t-foreach="relationship_types" t-as="relationship_type">
                                                        <t t-if="relationship_type.type in ['parent', 'father', 'mother']">
                                                            <option t-att-selected="parent and parent.relationship_type_id == relationship_type"
                                                                    t-att-value="relationship_type.id">
                                                                <t t-esc="relationship_type.name"/>
                                                            </option>
                                                        </t>
                                                    </t>
                                                </select>
                                            </div>

                                            <div class="col-12 col-md-6 form-group border-left pl-4">
                                                <div class="row">
                                                    <strong>Switch if applicable</strong>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12 col-md-6">
                                                        <div class="custom-control custom-switch">
                                                            <input type="checkbox" data-adm-field="custody"
                                                                   t-att-value="parent and parent.custody"
                                                                   t-attf-name="custodial_right-#{parent and parent.id}"
                                                                   t-attf-id="custodial_right-#{parent and parent.id}"
                                                                   t-att-checked="parent and parent.custody"
                                                                   data-adm-field-type="BOOLEAN"
                                                                   class="custom-control-input"/>
                                                            <label class="custom-control-label"
                                                                   t-attf-for="custodial_right-#{parent and parent.id}">
                                                                Custodial rights<span class="text-danger"
                                                                                      t-if="is_required('parent_relationship_ids.custody')">
                                                                *</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-6">
                                                        <div class="custom-control custom-switch">
                                                            <input type="checkbox"
                                                                   data-adm-field="financial_responsability"
                                                                   t-att-value="parent and parent.financial_responsability"
                                                                   t-attf-name="financial_responsability-#{parent and parent.id}"
                                                                   t-attf-id="financial_responsability-#{parent and parent.id}"
                                                                   t-att-checked="parent and parent.financial_responsability"
                                                                   data-adm-field-type="BOOLEAN"
                                                                   class="custom-control-input"/>
                                                            <label class="custom-control-label"
                                                                   t-attf-for="financial_responsability-#{parent and parent.id}">
                                                                Financial Responsibility
                                                                <span class="text-danger"
                                                                      t-if="is_required('parent_relationship_ids.financial_responsability')">
                                                                    *</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-6">
                                                        <div class="custom-control custom-switch">
                                                            <input type="checkbox"
                                                                   data-adm-field="correspondence"
                                                                   t-att-value="parent and parent.correspondence"
                                                                   t-attf-name="relation_correspondence-#{parent and parent.id}"
                                                                   t-attf-id="relation_correspondence-#{parent and parent.id}"
                                                                   t-att-checked="parent and parent.correspondence"
                                                                   data-adm-field-type="BOOLEAN"
                                                                   class="custom-control-input"/>
                                                            <label class="custom-control-label"
                                                                   t-attf-for="relation_correspondence-#{parent and parent.id}">
                                                                Correspondence
                                                                <span class="text-danger"
                                                                      t-if="is_required('parent_relationship_ids.correspondence')">
                                                                    *</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </section>
                                    </fieldset>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </section>
        </div>
    </template>
    <template id="template_application_family_parents_form">
        <t t-call="adm.template_application_family_parents_card"/>
        <div class="container p-4">
            <div class="row">
                <div class="col h1">
                    Parents
                </div>
                <div class="col">
                    <button type="button"
                            data-template="#template_application_family_parents_card"
                            data-append-to="#parent_relationship_card_list"
                            class="add-relationship btn btn-secondary d-block mt-2 ml-auto">
                        &#10010; Add Member</button>
                </div>
            </div>
            <div class="row">
                <div class="col" id="parent_relationship_card_list">
                    <t t-foreach="application_id.parent_relationship_ids.filtered_domain([('family_id', '=', application_id.current_user_access_id.family_id.id)])"
                       t-as="parent">
                        <div data-adm-rel="rel">
                            <t t-call="adm.template_application_family_parents_card"/>
                        </div>
                    </t>
                </div>
            </div>
        </div>
    </template>

    <template id="template_application_family_siblings_card">
        <div t-att-class="not sibling or 'mt-4'">
            <section t-attf-class="card #{not sibling and 'd-none'}"
                     t-att-id="sibling or 'template_application_family_siblings_card'">

                <t t-if="sibling">
                    <input class="form-control" type="hidden"
                           data-adm-field="id"
                           t-att-value="sibling.id"
                           data-adm-field-type="INTEGER"/>

                    <input class="form-control" type="hidden"
                           data-adm-field="family_id"
                           t-att-value="sibling.family_id.id"
                           data-adm-field-type="INTEGER"/>
                </t>
                <t t-else="">
                    <input class="form-control" type="hidden"
                           data-adm-field="family_id"
                           t-att-value="application_id.current_user_access_id.family_id.id"
                           data-adm-field-type="INTEGER"/>
                </t>
                <div class="card-header position-relative">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block" type="button" data-toggle="collapse"
                                t-attf-data-target="#siblingCollapse_#{sibling and sibling.id}">
                            <!--Full name-->
                            <t t-if="sibling">
                                <t t-esc="sibling.partner_relation_id.name"/>
                            </t>
                            <t t-else="">
                                New sibling
                            </t>
                        </button>
                    </h2>
                    <button type="button" class="btn btn-danger remove-relationship position-absolute"
                            style="top: 1em; right: 1em;">&#10006;</button>
                </div>
                <div class="collapse" t-attf-id="siblingCollapse_#{sibling and sibling.id}">
                    <div class="card-body">
                        <article class="row">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-8 offset-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4">
                                        <div class="text-center" data-adm-field="partner_relation_id"
                                             data-adm-field-type="MANY2ONE">

                                            <t t-if="sibling and sibling.partner_relation_id">
                                                <input class="form-control" type="hidden"
                                                       data-adm-field="id"
                                                       t-att-value="sibling.partner_relation_id.id"
                                                       data-adm-field-type="INTEGER"/>
                                            </t>

                                            <img t-attf-src="data:image/*;base64,{{sibling and sibling.partner_relation_id.image_1920}}"
                                                 widget="image"
                                                 onerror="this.src = '/adm/static/img/contact_photo_placeholder.png';"
                                                 class="avatar rounded-circle" alt="avatar" width="175"/>
                                            <h6 class="mt-2 textUpload">Upload a different photo...</h6>
                                            <input type="file"
                                                   data-adm-field="image_1920"
                                                   class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <fieldset class="col-12 border">
                                        <legend class="w-auto">Demographics</legend>
                                        <section class="row" data-adm-field="partner_relation_id" data-adm-field-type="MANY2ONE">
                                            <div class="col-12 col-md-6 form-group">
                                                <label>First name <span class="text-danger"
                                                                        t-if="is_required('sibling_ids.first_name')">
                                                    *</span></label>
                                                <input class="form-control" type="text"
                                                       data-adm-field="first_name"
                                                       t-att-required="is_required('sibling_ids.first_name')"
                                                       t-att-value="sibling and sibling.partner_relation_id.first_name"
                                                       name="first_name"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>Family name <span class="text-danger"
                                                                         t-if="is_required('sibling_ids.last_name')">
                                                    *</span></label>
                                                <input class="form-control" type="text"
                                                       t-att-required="is_required('sibling_ids.last_name')"
                                                       t-att-value="sibling and sibling.partner_relation_id.last_name"
                                                       data-adm-field="last_name" name="last_name"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>Date of birth <span class="text-danger"
                                                                           t-if="is_required('sibling_ids.date_of_birth')">
                                                    *</span></label>
                                                <input class="form-control" type="date"
                                                       t-att-required="is_required('sibling_ids.date_of_birth')"
                                                       t-att-value="sibling and sibling.partner_relation_id.date_of_birth"
                                                       data-adm-field="date_of_birth" name="date_of_birth"/>
                                            </div>
                                        </section>
                                    </fieldset>
                                    <fieldset class="col-12 border">
                                        <legend class="w-auto">Relationship to application</legend>
                                        <section class="row">
                                            <div class="col-12 col-md-6 form-group">
                                                <label>Relationship to applicant
                                                    <span class="text-danger">*</span></label>
                                                <select class="form-control" data-adm-field="relationship_type_id"
                                                        data-adm-field-type="INTEGER">
                                                    <option value="-1" selected="selected" disabled="disabled">
                                                        -Select a relation type-
                                                    </option>
                                                    <t t-foreach="relationship_types" t-as="relationship_type">
                                                        <t t-if="relationship_type.type in ['sibling', 'brother', 'sister']">
                                                            <option t-att-selected="sibling and sibling.relationship_type_id == relationship_type"
                                                                    t-att-value="relationship_type.id">
                                                                <t t-esc="relationship_type.name"/>
                                                            </option>
                                                        </t>
                                                    </t>
                                                </select>
                                            </div>

                                            <div class="col-12 col-md-6 form-group border-left pl-4">
                                                <div class="row">
                                                    <strong>Switch if applicable</strong>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12 col-md-6">
                                                        <div class="custom-control custom-switch">
                                                            <input type="checkbox" data-adm-field="custody"
                                                                   t-att-value="sibling and sibling.custody"
                                                                   t-attf-name="custodial_right-#{sibling and sibling.id}"
                                                                   t-attf-id="custodial_right-#{sibling and sibling.id}"
                                                                   t-att-checked="sibling and sibling.custody"
                                                                   data-adm-field-type="BOOLEAN"
                                                                   class="custom-control-input"/>
                                                            <label class="custom-control-label"
                                                                   t-attf-for="custodial_right-#{sibling and sibling.id}">
                                                                Custodial rights<span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-md-6">
                                                        <div class="custom-control custom-switch">
                                                            <input type="checkbox"
                                                                   data-adm-field="financial_responsability"
                                                                   t-att-value="sibling and sibling.financial_responsability"
                                                                   t-attf-name="financial_responsability-#{sibling and sibling.id}"
                                                                   t-attf-id="financial_responsability-#{sibling and sibling.id}"
                                                                   t-att-checked="sibling and sibling.financial_responsability"
                                                                   data-adm-field-type="BOOLEAN"
                                                                   class="custom-control-input"/>
                                                            <label class="custom-control-label"
                                                                   t-attf-for="financial_responsability-#{sibling and sibling.id}">
                                                                Financial Responsibility
                                                                <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </section>
                                    </fieldset>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </section>
        </div>
    </template>
    <template id="template_application_family_siblings_form">
        <div class="container p-4">
            <div class="row">
                <div class="col h1">
                    Siblings
                </div>
                <div class="col">
                    <button type="button"
                            data-template="#template_application_family_siblings_card"
                            data-append-to="#siblings_relationship_card_list"
                            class="add-relationship btn btn-secondary d-block mt-2 ml-auto">
                        &#10010; Add Member</button>
                </div>
            </div>
            <t t-foreach="application_id.sibling_relationship_ids" t-as="sibling">
                <div data-adm-rel="rel">
                    <t t-call="adm.template_application_family_siblings_card"/>
                </div>
            </t>
        </div>
    </template>

    <template id="template_application_family_others_card">
        <div t-att-class="not other_member or 'mt-4'">
            <section t-attf-class="card #{not other_member and 'd-none'}"
                     t-att-id="other_member or 'template_application_family_other_members_card'">
                <div class="card-header position-relative">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block" type="button" data-toggle="collapse"
                                t-attf-data-target="#other_memberCollapse_#{other_member and other_member.id}">
                            <!--Full name-->
                            <t t-if="other_member">
                                <t t-esc="other_member.partner_relation_id.name"/>
                            </t>
                            <t t-else="">
                                New other_member
                            </t>
                        </button>
                    </h2>
                    <button type="button" class="btn btn-danger remove-relationship position-absolute"
                            style="top: 1em; right: 1em;">&#10006;</button>
                </div>
                <div class="collapse" t-attf-id="other_memberCollapse_#{other_member and other_member.id}">
                    <t t-if="other_member">
                        <input class="form-control" type="hidden"
                               data-adm-field="id"
                               t-att-value="other_member.id"
                               data-adm-field-type="INTEGER"/>

                        <input class="form-control" type="hidden"
                               data-adm-field="family_id"
                               t-att-value="other_member.family_id.id"
                               data-adm-field-type="INTEGER"/>
                    </t>
                    <t t-else="">
                        <input class="form-control" type="hidden"
                               data-adm-field="family_id"
                               t-att-value="application_id.current_user_access_id.family_id.id"
                               data-adm-field-type="INTEGER"/>
                    </t>
                    <div class="card-body">
                        <article class="row">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-8 offset-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4">
                                        <div class="text-center" data-adm-field="partner_relation_id"
                                             data-adm-field-type="MANY2ONE">

                                            <t t-if="other_member and other_member.partner_relation_id">
                                                <input class="form-control" type="hidden"
                                                       data-adm-field="id"
                                                       t-att-value="other_member.partner_relation_id.id"
                                                       data-adm-field-type="INTEGER"/>
                                            </t>

                                            <img t-attf-src="data:image/*;base64,{{other_member and other_member.partner_relation_id.image_1920}}"
                                                 widget="image"
                                                 onerror="this.src = '/adm/static/img/contact_photo_placeholder.png';"
                                                 class="avatar rounded-circle" alt="avatar" width="175"/>
                                            <h6 class="mt-2 textUpload">Upload a different photo...</h6>
                                            <input type="file"
                                                   data-adm-field="image_1920"
                                                   class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <fieldset class="col-12 border">
                                        <legend class="w-auto">Demographics</legend>
                                        <section class="row" data-adm-field="partner_relation_id" data-adm-field-type="MANY2ONE">
                                            <div class="col-12 col-md-6 form-group">
                                                <label>First name <span class="text-danger"
                                                                        t-if="is_required('other_member_ids.first_name')">
                                                    *</span></label>
                                                <input class="form-control" type="text"
                                                       data-adm-field="first_name"
                                                       t-att-required="is_required('other_member_ids.first_name')"
                                                       t-att-value="other_member and other_member.partner_relation_id.first_name"
                                                       name="first_name"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>Family name <span class="text-danger"
                                                                         t-if="is_required('other_member_ids.last_name')">
                                                    *</span></label>
                                                <input class="form-control" type="text"
                                                       t-att-required="is_required('other_member_ids.last_name')"
                                                       t-att-value="other_member and other_member.partner_relation_id.last_name"
                                                       data-adm-field="last_name" name="last_name"/>
                                            </div>

                                            <div class="col-12 col-md-6 form-group">
                                                <label>Date of birth <span class="text-danger"
                                                                           t-if="is_required('other_member_ids.date_of_birth')">
                                                    *</span></label>
                                                <input class="form-control" type="date"
                                                       t-att-required="is_required('other_member_ids.date_of_birth')"
                                                       t-att-value="other_member and other_member.partner_relation_id.date_of_birth"
                                                       data-adm-field="date_of_birth" name="date_of_birth"/>
                                            </div>
                                        </section>
                                    </fieldset>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </section>
        </div>
    </template>
    <template id="template_application_family_others_form">
        <div class="container p-4">
            <div class="row">
                <div class="col h1">
                    Others
                </div>
                <div class="col">
                    <button type="button"
                            data-template="#template_application_family_others_card"
                            data-append-to="#other_relationship_card_list"
                            class="add-relationship btn btn-secondary d-block mt-2 ml-auto">
                        &#10010; Add Member</button>
                </div>
            </div>
            <t t-foreach="application_id.other_relationship_ids" t-as="other_member">
                <div data-adm-rel="rel">
                    <t t-call="adm.template_application_family_others_card"/>
                </div>
            </t>
        </div>
    </template>

    <template id="template_application_family_relationships">
        <t t-call="adm.template_application_form_commons">
            <t t-set="title">Family relationships</t>
            <t t-set="head">
                <!--<link rel="stylesheet" href="/adm/static/src/css/form_application_id..css"/>-->
                <link rel="stylesheet" href="/adm/static/src/css/main.css"/>
                <t t-call-assets="adm.assets_application_relationships" defer_load="True"/>
            </t>

            <t t-set="url_prev" t-value="'/admission/applications/%s/schools' % application_id.id"/>
            <t t-set="url_next" t-value="'/admission/applications/%s/family/siblings' % application_id.id"/>

            <!-- Body -->
            <form data-adm-model-fields="1">
                <div class="row">
                    <div class="col">
                        <ul class="nav nav-tabs" id="family_relationship_tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="parents-tab" data-toggle="tab"
                                   href="#parents-tab-content"
                                   role="tab" aria-controls="parents" aria-selected="true">Parents</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="siblings-tab" data-toggle="tab" href="#siblings-tab-content"
                                   role="tab" aria-controls="siblings" aria-selected="false">Siblings</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="others-tab" data-toggle="tab" href="#others-tab-content"
                                   role="tab" aria-controls="others" aria-selected="false">Others</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="parents-tab-content" role="tabpanel"
                                 aria-labelledby="parents-tab"
                                 data-adm-field-type="ONE2MANY"
                                 data-adm-field="parent_relationship_ids">
                                <t t-call="adm.template_application_family_parents_form"/>
                            </div>
                            <div class="tab-pane fade" id="siblings-tab-content" role="tabpanel"
                                 aria-labelledby="siblings-tab"
                                 data-adm-field-type="ONE2MANY"
                                 data-adm-field="sibling_relationship_ids">
                                <t t-call="adm.template_application_family_siblings_form"/>
                            </div>
                            <div class="tab-pane fade" id="others-tab-content" role="tabpanel"
                                 aria-labelledby="others-tab"
                                 data-adm-field-type="ONE2MANY"
                                 data-adm-field="other_relationship_ids">
                                <t t-call="adm.template_application_family_others_form"/>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </t>
    </template>

</odoo>